Вот полная логика барабана для твоей игры:

## БАРАБАН "ПОЛЕ ЧУДЕС"

### 🎡 ФИЗИЧЕСКАЯ СТРУКТУРА

```
Круглый барабан с секторами (только внешний круг)
├─ Количество секторов: 24 (можешь изменить на 30 или 36)
├─ Каждый сектор = одна "ячейка" на барабане
├─ Игрок крутит барабан → стрелка указывает на 1 случайный сектор
└─ Система выбирает сектор рандомно из активных секторов
```

***

## 📊 СОСТАВ БАРАБАНА (24 СЕКТОРА)

### ЧИСЛОВЫЕ СЕКТОРЫ (17 штук)

Это основа игры — когда выпадает число, игрок называет букву и получает очки.

```
┌────────┬───────────┬─────────────────────────────────────┐
│ ЧИСЛО  │ Кол-во    │ ЧТО ПРОИСХОДИТ                      │
├────────┼───────────┼─────────────────────────────────────┤
│ 10     │ 2 сектора │ Угадал букву → 10 × кол-во букв     │
│ 20     │ 2 сектора │ Угадал букву → 20 × кол-во букв     │
│ 30     │ 1 сектор  │ Угадал букву → 30 × кол-во букв     │
│ 40     │ 1 сектор  │ Угадал букву → 40 × кол-во букв     │
│ 50     │ 2 сектора │ Угадал букву → 50 × кол-во букв     │
│ 100    │ 2 сектора │ Угадал букву → 100 × кол-во букв    │
│ 200    │ 2 сектора │ Угадал букву → 200 × кол-во букв    │
│ 300    │ 2 сектора │ Угадал букву → 300 × кол-во букв    │
│ 500    │ 2 сектора │ Угадал букву → 500 × кол-во букв    │
│ 1000   │ 1 сектор  │ Угадал букву → 1000 × кол-во букв   │
└────────┴───────────┴─────────────────────────────────────┘

ИТОГО: 17 секторов с числами
```

***

### СПЕЦИАЛЬНЫЕ СЕКТОРЫ (7 штук)

Эти секторы меняют логику игры.

```
┌──────────────┬───────────┬─────────────────────────────────┐
│ СЕКТОР       │ Кол-во    │ ЧТО ПРОИСХОДИТ                  │
├──────────────┼───────────┼─────────────────────────────────┤
│ НОЛЬ (0)     │ 1 сектор  │ Ход переходит следующему        │
│              │           │ Очки СОХРАНЯЮТСЯ                │
│              │           │ (не теряешь ничего)             │
├──────────────┼───────────┼─────────────────────────────────┤
│ БАНКРОТ (Б)  │ 1 сектор  │ Все очки РАУНДА обнуляются      │
│              │           │ Ход переходит следующему        │
│              │           │ (очки из прошлых раундов OK)    │
├──────────────┼───────────┼─────────────────────────────────┤
│ ПЛЮС (+)     │ 1 сектор  │ Выбираешь ЛЮБУЮ букву           │
│              │           │ БЕЗ угадывания (бесплатно)      │
│              │           │ Все такие буквы открываются     │
│              │           │ Очки НЕ начисляются             │
│              │           │ Ход ОСТАЁТСЯ у тебя             │
├──────────────┼───────────┼─────────────────────────────────┤
│ УДВОЕНИЕ (×2)│ 1 сектор  │ Называешь букву                 │
│              │           │ ЕСЛИ угадал:                    │
│              │           │   очки × кол-во букв × 2        │
│              │           │   ход остаётся                  │
│              │           │ ЕСЛИ не угадал:                 │
│              │           │   ход переходит                 │
├──────────────┼───────────┼─────────────────────────────────┤
│ ПОДАРОК #1   │ 1 сектор  │ Получаешь подарочек             │
│ (шоколадка)  │           │ Добавляется в твою коллекцию    │
│              │           │ Сектор ИСЧЕЗАЕТ с барабана      │
│              │           │ Ход ОСТАЁТСЯ у тебя             │
├──────────────┼───────────┼─────────────────────────────────┤
│ ПОДАРОК #2   │ 1 сектор  │ То же самое                     │
│ (конфета)    │           │                                 │
├──────────────┼───────────┼─────────────────────────────────┤
│ ПОДАРОК #3   │ 1 сектор  │ То же самое                     │
│ (печенье)    │           │                                 │
└──────────────┴───────────┴─────────────────────────────────┘

ИТОГО: 7 специальных секторов
```

***

## 🔢 ДЕТАЛЬНАЯ ЛОГИКА КАЖДОГО СЕКТОРА

### 1️⃣ ЧИСЛОВЫЕ СЕКТОРЫ (10, 20, 30... 1000)

```
ВЫПАЛО ЧИСЛО (например, 50)
│
├─ Игрок НАЗЫВАЕТ БУКВУ
│
├─ ПРОВЕРКА: есть ли буква в слове?
│
├─ ✅ ЕСЛИ БУКВА ЕСТЬ:
│  │
│  ├─ Открываем ВСЕ такие буквы
│  │  Пример: слово "КОШКА", буква "К"
│  │           "_ _ _ _ _" → "К _ _ К _"
│  │
│  ├─ Считаем количество открытых букв
│  │  В примере: 2 буквы "К"
│  │
│  ├─ ФОРМУЛА ОЧКОВ:
│  │  очки = ЧИСЛО_НА_БАРАБАНЕ × КОЛИЧЕСТВО_БУКВ
│  │  
│  │  Пример: 50 × 2 = 100 очков
│  │
│  ├─ Добавляем к очкам раунда игрока:
│  │  round_points[игрок] += 100
│  │
│  ├─ Проверяем: ВСЕ ЛИ БУКВЫ ОТКРЫТЫ?
│  │  ├─ ДА → АВТОМАТИЧЕСКИЙ ВЫИГРЫШ РАУНДА
│  │  └─ НЕТ → Игрок выбирает:
│  │           [КРУТИТЬ СНОВА] или [НАЗВАТЬ СЛОВО]
│  │
│  └─ ХОД ОСТАЁТСЯ У ИГРОКА
│
└─ ❌ ЕСЛИ БУКВЫ НЕТ:
   │
   ├─ Сообщение: "Буквы нет!"
   ├─ Очки НЕ меняются
   └─ ХОД ПЕРЕХОДИТ следующему игроку
```

**Примеры расчёта очков:**

```
Слово: МОЛОКО
Выпало: 100

Называю "О":
├─ Буква "О" встречается 3 раза
├─ Открыто: "М О Л О К О"
├─ Очки: 100 × 3 = 300
└─ Все буквы открыты → ВЫИГРЫШ РАУНДА

Слово: КОШКА
Выпало: 50

Называю "А":
├─ Буква "А" встречается 1 раз
├─ Открыто: "_ _ _ _ А"
├─ Очки: 50 × 1 = 50
└─ Могу крутить снова

Называю "Б":
├─ Буквы "Б" нет в слове
├─ Открыто: без изменений
├─ Очки: +0
└─ Ход переходит следующему
```

***

### 2️⃣ НОЛЬ (0)

```
ВЫПАЛ НОЛЬ
│
├─ Сообщение: "НОЛЬ! Ход переходит"
│
├─ Очки игрока СОХРАНЯЮТСЯ:
│  round_points[игрок] = без изменений
│
├─ ХОД ПЕРЕХОДИТ следующему игроку
│
└─ КОНЕЦ ХОДА
```

**Когда полезен:**
- Ты накопил много очков → ноль сохраняет их (не обнуляет как банкрот)
- Просто невезение, но не критично

***

### 3️⃣ БАНКРОТ (Б)

```
ВЫПАЛ БАНКРОТ
│
├─ Сообщение: "БАНКРОТ! Все очки раунда сгорают!"
│
├─ Очки РАУНДА обнуляются:
│  round_points[игрок] = 0
│
├─ ВАЖНО: Очки из ПРОШЛЫХ раундов НЕ трогаются!
│  total_points[игрок] = без изменений
│
├─ ХОД ПЕРЕХОДИТ следующему игроку
│
└─ КОНЕЦ ХОДА
```

**Пример:**

```
Раунд 1 (закончен):
├─ Маша выиграла → total_points[Маша] = 500

Раунд 2 (идёт):
├─ Маша накопила round_points = 300
├─ Выпал БАНКРОТ
├─ round_points[Маша] = 0 (сгорело)
├─ total_points[Маша] = 500 (НЕ тронуто!)
└─ Итого у Маши: 500 очков (из раунда 1)
```

***

### 4️⃣ ПЛЮС (+)

```
ВЫПАЛ ПЛЮС
│
├─ Сообщение: "ПЛЮС! Выберите любую букву"
│
├─ Игрок ВЫБИРАЕТ букву БЕЗ отгадывания
│  (не надо угадывать, просто выбираешь)
│
├─ Открываем ВСЕ такие буквы в слове
│  Пример: слово "КОШКА", выбрал "К"
│           "_ _ _ _ _" → "К _ _ К _"
│
├─ Очки НЕ начисляются:
│  round_points[игрок] += 0
│
├─ Проверяем: ВСЕ ЛИ БУКВЫ ОТКРЫТЫ?
│  ├─ ДА → АВТОМАТИЧЕСКИЙ ВЫИГРЫШ РАУНДА
│  └─ НЕТ → Игрок выбирает:
│           [КРУТИТЬ СНОВА] или [НАЗВАТЬ СЛОВО]
│
└─ ХОД ОСТАЁТСЯ У ИГРОКА
```

**Когда полезен:**
- Ты уже почти открыл слово → открываешь последнюю букву бесплатно
- Можешь открыть редкую букву (Ъ, Ы, Ь, Э, Ю, Я)

***

### 5️⃣ УДВОЕНИЕ (×2)

```
ВЫПАЛО УДВОЕНИЕ
│
├─ Сообщение: "УДВОЕНИЕ! Называйте букву"
│
├─ Игрок НАЗЫВАЕТ БУКВУ (как при числе)
│
├─ ПРОВЕРКА: есть ли буква в слове?
│
├─ ✅ ЕСЛИ БУКВА ЕСТЬ:
│  │
│  ├─ Открываем ВСЕ такие буквы
│  │
│  ├─ ФОРМУЛА ОЧКОВ (с удвоением):
│  │  очки = (ЧИСЛО_НА_БАРАБАНЕ × КОЛИЧЕСТВО_БУКВ) × 2
│  │  
│  │  ВАЖНО: "число на барабане" = последнее видимое число
│  │          (обычно берётся среднее, например 100)
│  │  
│  │  Пример: буква "О" встречается 2 раза
│  │          100 × 2 × 2 = 400 очков
│  │
│  ├─ Добавляем к очкам раунда:
│  │  round_points[игрок] += 400
│  │
│  ├─ Проверяем: ВСЕ ЛИ БУКВЫ ОТКРЫТЫ?
│  │  ├─ ДА → ВЫИГРЫШ РАУНДА
│  │  └─ НЕТ → Выбор: [КРУТИТЬ СНОВА] или [НАЗВАТЬ СЛОВО]
│  │
│  └─ ХОД ОСТАЁТСЯ У ИГРОКА
│
└─ ❌ ЕСЛИ БУКВЫ НЕТ:
   │
   ├─ Сообщение: "Буквы нет!"
   ├─ Очки НЕ меняются
   └─ ХОД ПЕРЕХОДИТ следующему игроку
```

**Упрощённая формула для кода:**

```python
base_value = 100  # Фиксированное значение или последнее число на барабане
letter_count = count_letter_in_word(letter, word)

if sector.type == "double":
    points = base_value * letter_count * 2
else:
    points = base_value * letter_count
```

***

### 6️⃣ ПОДАРКИ (шоколадка, конфета, печенье, леденец)

```
ВЫПАЛ ПОДАРОК (например, "шоколадка")
│
├─ Сообщение: "ПОДАРОК! Вы получили шоколадку!"
│
├─ Подарок добавляется в коллекцию игрока:
│  gifts[игрок].append("шоколадка")
│
├─ Подарок ИСЧЕЗАЕТ С БАРАБАНА:
│  sector.is_active = false
│  
│  Теперь этот сектор НЕ может выпасть в этом раунде
│  (но в следующем раунде подарки восстанавливаются)
│
├─ Очки НЕ начисляются:
│  round_points[игрок] += 0
│
├─ ХОД ОСТАЁТСЯ У ИГРОКА
│  Игрок может крутить барабан ещё раз
│
└─ КОНЕЦ ХОДА (игрок крутит снова)
```

**Список подарков (можешь изменить):**

```
├─ Подарок #1: Шоколадка 🍫
├─ Подарок #2: Конфета 🍬
├─ Подарок #3: Печенье 🍪
├─ Подарок #4: Леденец 🍭
└─ (можешь добавить больше: мармелад, вафля и т.д.)
```

**Восстановление подарков между раундами:**

```
После окончания раунда:
├─ Все подарки восстанавливаются на барабане
├─ sector.is_active = true (для всех подарков)
└─ В следующем раунде они снова могут выпасть
```

***

## 🎲 СТРУКТУРА ДАННЫХ БАРАБАНА (ДЛЯ КОДА)

```javascript
const drum = {
  sectors: [
    // ЧИСЛОВЫЕ СЕКТОРЫ (17 штук)
    { id: 0, type: "number", value: 10, is_active: true },
    { id: 1, type: "number", value: 10, is_active: true },
    { id: 2, type: "number", value: 20, is_active: true },
    { id: 3, type: "number", value: 20, is_active: true },
    { id: 4, type: "number", value: 30, is_active: true },
    { id: 5, type: "number", value: 40, is_active: true },
    { id: 6, type: "number", value: 50, is_active: true },
    { id: 7, type: "number", value: 50, is_active: true },
    { id: 8, type: "number", value: 100, is_active: true },
    { id: 9, type: "number", value: 100, is_active: true },
    { id: 10, type: "number", value: 200, is_active: true },
    { id: 11, type: "number", value: 200, is_active: true },
    { id: 12, type: "number", value: 300, is_active: true },
    { id: 13, type: "number", value: 300, is_active: true },
    { id: 14, type: "number", value: 500, is_active: true },
    { id: 15, type: "number", value: 500, is_active: true },
    { id: 16, type: "number", value: 1000, is_active: true },
    
    // СПЕЦИАЛЬНЫЕ СЕКТОРЫ (7 штук)
    { id: 17, type: "zero", is_active: true },
    { id: 18, type: "bankrupt", is_active: true },
    { id: 19, type: "plus", is_active: true },
    { id: 20, type: "double", is_active: true },
    
    // ПОДАРКИ (исчезают после использования)
    { id: 21, type: "gift", gift_name: "шоколадка", is_active: true },
    { id: 22, type: "gift", gift_name: "конфета", is_active: true },
    { id: 23, type: "gift", gift_name: "печенье", is_active: true },
  ],
  
  spin() {
    // Выбираем только активные секторы
    const active = this.sectors.filter(s => s.is_active);
    
    // Рандомно выбираем один
    const randomIndex = Math.floor(Math.random() * active.length);
    return active[randomIndex];
  },
  
  resetGifts() {
    // Восстанавливаем подарки (между раундами)
    this.sectors.forEach(s => {
      if (s.type === "gift") {
        s.is_active = true;
      }
    });
  }
};
```

***

## 📋 ИТОГОВАЯ ТАБЛИЦА БАРАБАНА

```
┌─────┬──────────────┬─────────┬──────────────────────────────┐
│ ID  │ ТИП          │ ЗНАЧЕНИЕ│ ЛОГИКА                       │
├─────┼──────────────┼─────────┼──────────────────────────────┤
│ 0-1 │ number       │ 10      │ Очки × кол-во букв           │
│ 2-3 │ number       │ 20      │ Очки × кол-во букв           │
│ 4   │ number       │ 30      │ Очки × кол-во букв           │
│ 5   │ number       │ 40      │ Очки × кол-во букв           │
│ 6-7 │ number       │ 50      │ Очки × кол-во букв           │
│ 8-9 │ number       │ 100     │ Очки × кол-во букв           │
│10-11│ number       │ 200     │ Очки × кол-во букв           │
│12-13│ number       │ 300     │ Очки × кол-во букв           │
│14-15│ number       │ 500     │ Очки × кол-во букв           │
│ 16  │ number       │ 1000    │ Очки × кол-во букв           │
├─────┼──────────────┼─────────┼──────────────────────────────┤
│ 17  │ zero         │ —       │ Ход переходит, очки OK       │
│ 18  │ bankrupt     │ —       │ Очки раунда = 0, ход переходит│
│ 19  │ plus         │ —       │ Открыть букву бесплатно      │
│ 20  │ double       │ —       │ Очки × 2, если угадал        │
├─────┼──────────────┼─────────┼──────────────────────────────┤
│ 21  │ gift         │шоколадка│ +подарок, исчезает, ход OK   │
│ 22  │ gift         │конфета  │ +подарок, исчезает, ход OK   │
│ 23  │ gift         │печенье  │ +подарок, исчезает, ход OK   │
└─────┴──────────────┴─────────┴──────────────────────────────┘

ИТОГО: 24 сектора
```

***

Вот вся логика барабана! Теперь у тебя есть полное описание каждого сектора с формулами и примерами. Удачи с программированием! 🎯